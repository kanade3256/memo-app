# Firebase プロジェクト移行チェックリスト

## 📋 事前準備

### 1. データバックアップ
- [ ] Firestore データのエクスポート
- [ ] Authentication ユーザーリストのエクスポート
- [ ] Storage ファイルのダウンロード
- [ ] 設定ファイルのバックアップ

### 2. 現在の構成確認
- [ ] 使用中のFirebaseサービス一覧
- [ ] API キーとプロジェクト設定
- [ ] カスタムドメイン設定
- [ ] 第三者連携サービス

### 3. 移行先アカウント準備
- [ ] 新しいGoogleアカウントの作成/確認
- [ ] Firebase コンソールアクセス確認
- [ ] 請求設定の準備

## 🔄 移行パターン別手順

### パターンA: 所有者変更のみ (推奨)
```bash
# 最も簡単な方法
1. Firebase Console → Project Settings
2. Users and permissions → Add member
3. 新所有者を "Owner" として追加
4. 元所有者の権限を変更/削除
```

### パターンB: 新プロジェクト作成 + データ移行
```bash
# より複雑だが完全な移行
1. 新しいFirebaseプロジェクト作成
2. 全データのエクスポート/インポート
3. アプリケーション設定の更新
4. DNS/ドメイン設定の移行
```

## ⚠️ 注意事項

### データ移行時の制限
- Authentication: パスワードは移行不可
- Firestore: 大量データの移行に時間要
- Storage: ファイルの個別ダウンロード/アップロード必要

### ダウンタイム
- 所有者変更: ダウンタイムなし
- 新プロジェクト移行: 数時間〜数日

### コスト
- データ転送料金
- 重複期間の利用料金
- 移行作業時間

## 🛠️ 技術的手順

### 1. データエクスポート
```bash
# Firestore
gcloud firestore export gs://bucket-name/export-folder

# Authentication (Admin SDK必要)
# 管理画面からCSVエクスポート可能
```

### 2. 新プロジェクトでのインポート
```bash
# Firestore
gcloud firestore import gs://bucket-name/export-folder

# Authentication
# 手動再登録またはカスタムトークン発行
```

### 3. アプリケーション設定更新
```javascript
// firebase.ts の設定変更
const firebaseConfig = {
  apiKey: "新しいAPIキー",
  authDomain: "新しいドメイン",
  projectId: "新しいプロジェクトID",
  // ...
};
```

## 📊 移行パターン比較

| 項目 | 所有者変更 | 新プロジェクト |
|------|------------|----------------|
| 難易度 | ⭐⭐ | ⭐⭐⭐⭐ |
| ダウンタイム | なし | あり |
| データ損失リスク | なし | 低〜中 |
| 設定変更 | 不要 | 必要 |
| コスト | 無料 | 有料 |

## ✅ 推奨アプローチ

### 小規模プロジェクト (当アプリ等)
1. **所有者変更**を第一選択
2. 必要に応じてプロジェクト名変更
3. 段階的な権限移譲

### 大規模プロジェクト
1. **新プロジェクト作成**
2. 段階的データ移行
3. Blue-Green デプロイメント手法
